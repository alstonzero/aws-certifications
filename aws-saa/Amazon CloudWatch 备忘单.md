# Amazon CloudWatch 备忘单

Amazon CloudWatch 是一项针对 AWS 云资源和您在 AWS 上运行的应用程序的监控服务。

### CloudWatch 与 CloudTrail比较：

![CloudWatch 与 CloudTrail](https://cdn-digicloud.pressidium.com/wp-content/uploads/2019/03/CloudWatch-vs-CloudTrail-1024x481.jpg)

| CloudWatch               | CloudTrail                                 |
| ------------------------ | ------------------------------------------ |
| 性能监控                 | 审计                                       |
| 跨AWS服务记录事件        | 跨 AWS 服务记录 api 活动                   |
| 更高级别的综合监控和事件 | 低级别的粒状                               |
| 来自多个账户的log        | 来自多个账户的log                          |
| 14天的警报历史记录       | 没有原生的alarm；可以使用CloudWatch的alarm |

用于收集和跟踪指标、收集和监控日志文件以及设置警报。

自动对 AWS 资源的变化做出反应。

### 使用 CloudWatch，可以监控资源类型

例如：

- EC2 实例（EC2 instances）。
- DynamoDB 表（DynamoDB tables）。
- RDS 数据库实例（RDS DB instances）。
- 应用程序和服务生成的自定义指标（Custom metrics generated by applications and services）。
- 您的应用程序生成的任何日志文件（Any log files generated by your applications）。

获得对资源利用率的全系统可见性。

监控应用程序性能。

监控运营状况。

CloudWatch 可通过 API、命令行界面、AWS 开发工具包和 AWS 管理控制台访问。

CloudWatch 与 IAM 集成。

### CloudWatch 日志：

- Amazon CloudWatch Logs 允许您使用现有系统、应用程序和自定义日志文件监控系统和应用程序并对其进行故障排除。
- 您可以使用 Amazon CloudWatch Logs 监控、存储和访问来自 Amazon Elastic Compute Cloud (Amazon EC2) 实例、AWS CloudTrail、Route 53 和其他来源的日志文件。
- CloudWatch Logs 可用于实时应用程序和系统监控以及长期日志保留。
- 默认情况下，CloudWatch Logs 无限期地保留日志。
- CloudTrail 日志可以发送到 CloudWatch Logs 以进行实时监控。
- CloudWatch Logs 指标过滤器可以评估 CloudTrail 日志的特定术语、短语或值。

### CloudWatch 保留指标数据如下：

- 周期小于 60 秒的数据点可使用 3 小时。这些数据点是高分辨率的自定义指标。
- 周期为 60 秒（1 分钟）的数据点可使用 15 天。
- 周期为 300 秒（5 分钟）的数据点可使用 63 天。
- 周期为 3600 秒（1 小时）的数据点可使用 455 天（15 个月）。